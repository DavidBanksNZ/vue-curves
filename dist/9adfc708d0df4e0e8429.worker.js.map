{"version":3,"sources":["webpack:///9adfc708d0df4e0e8429.worker.js","webpack:///webpack/bootstrap 9adfc708d0df4e0e8429","webpack:///./src/web-worker/_dragon.js","webpack:///./src/web-worker/_koch.js","webpack:///./src/web-worker/_utils.js","webpack:///./src/web-worker/worker.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","getPointsBetween","pt1","pt2","flat","data","opts","dX","dY","isAngled","midPoint","a","b","aIsEast","right","isVertical","direction","Math","abs","_toConsumableArray","arr","Array","isArray","arr2","length","from","__WEBPACK_IMPORTED_MODULE_0__utils__","theta","atan","PI","L","sqrt","pow","segmentLength","sin","angle","h","midPts","midPtsRotated","map","pt","midPtsTranslated","concat","deg2Rad","deg","rotatePt","center","_cos","cos","_sin","ptTranslated","ptRotated","send","postMessage","JSON","stringify","calculatePoints","N","pts","_pairs","pairs","numPairs","ptGroups","pair","j","slice","apply","index","iteration","getFlatValues","algorithm","Dragon","Koch","val","default","onmessage","e","points","width","input","output","error","message"],"mappings":"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","file":"9adfc708d0df4e0e8429.worker.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tgetPointsBetween: function getPointsBetween(pt1, pt2, flat, data, opts) {\n\n\t\tif (flat) {\n\t\t\tvar center = [(pt1[0] + pt2[0]) / 2, (pt1[1] + pt2[1]) / 2];\n\t\t\treturn [pt1, center, pt2];\n\t\t}\n\n\t\tvar dX = pt2[0] - pt1[0];\n\t\tvar dY = pt2[1] - pt1[1];\n\n\t\tvar isAngled = dX !== 0 && dY !== 0;\n\t\tvar midPoint = void 0;\n\n\t\tif (!isAngled) {\n\t\t\tvar isVertical = dX === 0;\n\t\t\tvar direction = void 0;\n\t\t\tif (isVertical) {\n\t\t\t\tdirection = dY < 0 && data.right || dY > 0 && !data.right ? -1 : 1;\n\t\t\t\tmidPoint = [pt1[0] + direction * Math.abs(dY) / 2, (pt1[1] + pt2[1]) / 2];\n\t\t\t} else {\n\t\t\t\tdirection = dX < 0 && data.right || dX > 0 && !data.right ? 1 : -1;\n\t\t\t\tmidPoint = [(pt1[0] + pt2[0]) / 2, pt1[1] + direction * Math.abs(dX) / 2];\n\t\t\t}\n\t\t} else {\n\t\t\tvar a = [pt1[0], pt2[1]];\n\t\t\tvar b = [pt2[0], pt1[1]];\n\t\t\tvar aIsEast = a[0] < b[0];\n\t\t\tif (dY < 0 && data.right || dY > 0 && !data.right) {\n\t\t\t\tmidPoint = aIsEast ? a : b;\n\t\t\t} else {\n\t\t\t\tmidPoint = aIsEast ? b : a;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1, midPoint, pt2];\n\t}\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(2);\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tgetPointsBetween: function getPointsBetween(pt1, pt2, flat, data, opts) {\n\n\t\tvar dX = pt2[0] - pt1[0];\n\t\tvar dY = pt2[1] - pt1[1];\n\n\t\t// angle between pt1 and pt2\n\t\tvar theta = Math.atan(dY / dX);\n\t\tif (dX < 0) {\n\t\t\ttheta += Math.PI;\n\t\t}\n\n\t\t// length of line joining pts\n\t\tvar L = Math.sqrt(Math.pow(dX, 2) + Math.pow(dY, 2));\n\n\t\tvar segmentLength = 0.5 * L / (1 + Math.sin(0.5 * __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* deg2Rad */])(opts.angle)));\n\t\tvar h = Math.sqrt(L * (segmentLength - L / 4));\n\n\t\t// Now calculate points along that straight line segment,\n\t\t// with pts translated such that pt1 is now at (0,0)\n\t\tvar midPts = [[segmentLength, 0], [L / 2, flat ? 0 : h], [L - segmentLength, 0]];\n\n\t\t// Apply rotation\n\t\tvar midPtsRotated = midPts.map(function (pt) {\n\t\t\treturn __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"b\" /* rotatePt */])(pt, theta);\n\t\t});\n\n\t\t// Translate back\n\t\tvar midPtsTranslated = midPtsRotated.map(function (pt) {\n\t\t\treturn [pt[0] + pt1[0], pt[1] + pt1[1]];\n\t\t});\n\n\t\treturn [pt1].concat(_toConsumableArray(midPtsTranslated), [pt2]);\n\t}\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = deg2Rad;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = rotatePt;\n/**\n * Convert degrees to radians\n * @param deg\n * @returns {number}\n */\nfunction deg2Rad(deg) {\n\treturn deg * Math.PI / 180;\n}\n\n/**\n * Rotate a point in 2D space about the given center point.\n * @param pt    - the point [x,y] to rotate\n * @param angle - anticlockwise rotation in radians\n * @param center - optional center point to rotate around, default is [0, 0]\n * @returns {number[]}\n */\nfunction rotatePt(pt, angle, center) {\n\tif (angle === 0) {\n\t\treturn pt;\n\t}\n\tif (!center) {\n\t\tcenter = [0, 0];\n\t}\n\tvar _cos = Math.cos(angle);\n\tvar _sin = Math.sin(angle);\n\tvar ptTranslated = [pt[0] - center[0], pt[1] - center[1]];\n\tvar ptRotated = [_cos * ptTranslated[0] - _sin * ptTranslated[1], _sin * ptTranslated[0] + _cos * ptTranslated[1]];\n\n\t// translate back\n\treturn [center[0] + ptRotated[0], center[1] + ptRotated[1]];\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Koch = __webpack_require__(1).default;\nvar Dragon = __webpack_require__(0).default;\n\nvar algorithm = 'Koch';\n\n/**\n * When a message is received, calculate the points requested and post the results\n * back to the requesting script.\n * @param e\n */\nonmessage = function onmessage(e) {\n\tvar d = e.data;\n\talgorithm = d.algorithm;\n\ttry {\n\t\tvar points = calculatePoints([0, 0], [d.width, 0], d.N, d.flat, d.opts);\n\t\tsend({\n\t\t\tinput: d,\n\t\t\toutput: points\n\t\t});\n\t} catch (error) {\n\t\tsend({\n\t\t\tinput: d,\n\t\t\terror: error.message\n\t\t});\n\t}\n};\n\n/**\n * Send a message back to the calling script.\n * @param data\n */\nfunction send(data) {\n\tpostMessage(JSON.stringify(data));\n}\n\n/**\n * Calculate all points between the start and end point for a given number of\n * iterations, and whether we want the 'flattened' state or not.\n * @param pt1  - start point\n * @param pt2  - end point\n * @param N    - # of iterations\n * @param flat - set to true to get the flattened state\n * @param opts - extra options to pass to the points generating function\n * @returns {Array<number[]>}\n */\nfunction calculatePoints(pt1, pt2, N, flat, opts) {\n\tvar pts = [pt1, pt2];\n\tvar i = 0;\n\n\tvar _loop = function _loop() {\n\t\tvar _pairs = pairs(pts);\n\t\tvar numPairs = _pairs.length;\n\t\tvar ptGroups = _pairs.map(function (pair, j) {\n\t\t\treturn getPointsBetween(j, pair[0], pair[1], i, N, flat, opts);\n\t\t}).map(function (pts, j) {\n\t\t\treturn j + 1 < numPairs ? pts.slice(0, -1) : pts;\n\t\t});\n\n\t\tpts = Array.prototype.concat.apply([], ptGroups);\n\t};\n\n\twhile (++i <= N) {\n\t\t_loop();\n\t}\n\n\treturn pts;\n}\n\n/**\n * Runs the active algorithm, getting the points in between a pair of provided points.\n * @param index     - the current point index\n * @param pt1       - start poin\n * @param pt2       - end point\n * @param iteration - current iteration\n * @param N         - total iterations\n * @param flat      - set to true to get flattened state at iteration N\n * @param opts      - extra options to pass to algorithm\n * @returns {Array<number[]>}\n */\nfunction getPointsBetween(index, pt1, pt2, iteration, N, flat, opts) {\n\tvar getFlatValues = iteration < N ? false : flat;\n\tswitch (algorithm) {\n\t\tcase 'Dragon':\n\t\t\treturn Dragon.getPointsBetween(pt1, pt2, getFlatValues, { right: index % 2 === 0 }, opts);\n\t\tdefault:\n\t\t\treturn Koch.getPointsBetween(pt1, pt2, getFlatValues, null, opts);\n\t}\n}\n\n/**\n * Return an array containing consecutive pairs of all points in the input\n * array.\n * @param arr\n * @returns {Array<any[]>}\n */\nfunction pairs(arr) {\n\treturn arr.map(function (val, i) {\n\t\treturn i > 0 ? [arr[i - 1], arr[i]] : null;\n\t}).slice(1);\n}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// 9adfc708d0df4e0e8429.worker.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9adfc708d0df4e0e8429","export default {\n\n\tgetPointsBetween(pt1, pt2, flat, data, opts) {\n\n\t\tif (flat) {\n\t\t\tconst center = [\n\t\t\t\t(pt1[0] + pt2[0]) / 2,\n\t\t\t\t(pt1[1] + pt2[1]) / 2\n\t\t\t];\n\t\t\treturn [pt1, center, pt2];\n\t\t}\n\n\t\tconst dX = pt2[0] - pt1[0];\n\t\tconst dY = pt2[1] - pt1[1];\n\n\t\tconst isAngled = dX !== 0 && dY !== 0;\n\t\tlet midPoint;\n\n\t\tif (!isAngled) {\n\t\t\tconst isVertical = dX === 0;\n\t\t\tlet direction;\n\t\t\tif (isVertical) {\n\t\t\t\tdirection = (dY < 0 && data.right) || (dY > 0 && !data.right) ? -1 : 1;\n\t\t\t\tmidPoint = [\n\t\t\t\t\tpt1[0] + direction * Math.abs(dY) / 2,\n\t\t\t\t\t(pt1[1] + pt2[1]) / 2\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tdirection = (dX < 0 && data.right) || (dX > 0 && !data.right) ? 1 : -1;\n\t\t\t\tmidPoint = [\n\t\t\t\t\t(pt1[0] + pt2[0]) / 2,\n\t\t\t\t\tpt1[1] + direction * Math.abs(dX) / 2,\n\t\t\t\t];\n\t\t\t}\n\t\t} else {\n\t\t\tconst a = [pt1[0], pt2[1]];\n\t\t\tconst b = [pt2[0], pt1[1]];\n\t\t\tconst aIsEast = a[0] < b[0];\n\t\t\tif ((dY < 0 && data.right) || (dY > 0 && !data.right)) {\n\t\t\t\tmidPoint = aIsEast ? a : b;\n\t\t\t} else {\n\t\t\t\tmidPoint = aIsEast ? b : a;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1, midPoint, pt2];\n\n\t}\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/web-worker/_dragon.js","import {deg2Rad, rotatePt} from './_utils';\n\nexport default {\n\n\tgetPointsBetween(pt1, pt2, flat, data, opts) {\n\n\t\tconst dX = pt2[0] - pt1[0];\n\t\tconst dY = pt2[1] - pt1[1];\n\n\t\t// angle between pt1 and pt2\n\t\tlet theta = Math.atan(dY / dX);\n\t\tif (dX < 0) {\n\t\t\ttheta += Math.PI;\n\t\t}\n\n\t\t// length of line joining pts\n\t\tconst L = Math.sqrt(dX ** 2 + dY ** 2);\n\n\t\tconst segmentLength = 0.5 * L / (1 + Math.sin(0.5 * deg2Rad(opts.angle)));\n\t\tconst h = Math.sqrt(L * (segmentLength - L / 4));\n\n\t\t// Now calculate points along that straight line segment,\n\t\t// with pts translated such that pt1 is now at (0,0)\n\t\tconst midPts = [\n\t\t\t[segmentLength, 0],\n\t\t\t[L / 2, flat ? 0 : h],\n\t\t\t[L - segmentLength, 0]\n\t\t];\n\n\t\t// Apply rotation\n\t\tconst midPtsRotated = midPts.map(pt => rotatePt(pt, theta));\n\n\t\t// Translate back\n\t\tconst midPtsTranslated = midPtsRotated.map(pt => {\n\t\t\treturn [\n\t\t\t\tpt[0] + pt1[0],\n\t\t\t\tpt[1] + pt1[1]\n\t\t\t];\n\t\t});\n\n\t\treturn [pt1, ...midPtsTranslated, pt2];\n\t}\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/web-worker/_koch.js","/**\n * Convert degrees to radians\n * @param deg\n * @returns {number}\n */\nexport function deg2Rad (deg) {\n\treturn deg * Math.PI / 180;\n}\n\n\n/**\n * Rotate a point in 2D space about the given center point.\n * @param pt    - the point [x,y] to rotate\n * @param angle - anticlockwise rotation in radians\n * @param center - optional center point to rotate around, default is [0, 0]\n * @returns {number[]}\n */\nexport function rotatePt(pt, angle, center) {\n\tif (angle === 0) {\n\t\treturn pt;\n\t}\n\tif (!center) {\n\t\tcenter = [0, 0];\n\t}\n\tconst _cos = Math.cos(angle);\n\tconst _sin = Math.sin(angle);\n\tconst ptTranslated = [\n\t\tpt[0] - center[0],\n\t\tpt[1] - center[1]\n\t];\n\tconst ptRotated = [\n\t\t_cos * ptTranslated[0] - _sin * ptTranslated[1],\n\t\t_sin * ptTranslated[0] + _cos * ptTranslated[1]\n\t];\n\n\t// translate back\n\treturn [\n\t\tcenter[0] + ptRotated[0],\n\t\tcenter[1] + ptRotated[1]\n\t];\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web-worker/_utils.js","'use strict';\n\nconst Koch = require('./_koch').default;\nconst Dragon = require('./_dragon').default;\n\nlet algorithm = 'Koch';\n\n\n/**\n * When a message is received, calculate the points requested and post the results\n * back to the requesting script.\n * @param e\n */\nonmessage = e => {\n\tconst d = e.data;\n\talgorithm = d.algorithm;\n\ttry {\n\t\tconst points = calculatePoints(\n\t\t\t[0, 0],\n\t\t\t[d.width, 0],\n\t\t\td.N,\n\t\t\td.flat,\n\t\t\td.opts\n\t\t);\n\t\tsend({\n\t\t\tinput: d,\n\t\t\toutput: points\n\t\t});\n\t} catch (error) {\n\t\tsend({\n\t\t\tinput: d,\n\t\t\terror: error.message\n\t\t});\n\t}\n};\n\n\n/**\n * Send a message back to the calling script.\n * @param data\n */\nfunction send (data) {\n\tpostMessage(JSON.stringify(data));\n}\n\n\n/**\n * Calculate all points between the start and end point for a given number of\n * iterations, and whether we want the 'flattened' state or not.\n * @param pt1  - start point\n * @param pt2  - end point\n * @param N    - # of iterations\n * @param flat - set to true to get the flattened state\n * @param opts - extra options to pass to the points generating function\n * @returns {Array<number[]>}\n */\nfunction calculatePoints(pt1, pt2, N, flat, opts) {\n\tlet pts = [pt1, pt2];\n\tlet i = 0;\n\n\twhile (++i <= N) {\n\t\tlet _pairs = pairs(pts);\n\t\tlet numPairs = _pairs.length;\n\t\tlet ptGroups = _pairs\n\t\t\t.map((pair, j) => getPointsBetween(j, pair[0], pair[1], i, N, flat, opts))\n\t\t\t.map((pts, j) => {\n\t\t\t\treturn (j + 1 < numPairs) ? pts.slice(0, -1) : pts\n\t\t\t});\n\n\t\tpts = Array.prototype.concat.apply([], ptGroups);\n\t}\n\n\treturn pts;\n}\n\n\n/**\n * Runs the active algorithm, getting the points in between a pair of provided points.\n * @param index     - the current point index\n * @param pt1       - start poin\n * @param pt2       - end point\n * @param iteration - current iteration\n * @param N         - total iterations\n * @param flat      - set to true to get flattened state at iteration N\n * @param opts      - extra options to pass to algorithm\n * @returns {Array<number[]>}\n */\nfunction getPointsBetween (index, pt1, pt2, iteration, N, flat, opts) {\n\tconst getFlatValues = iteration < N ? false : flat;\n\tswitch (algorithm) {\n\t\tcase 'Dragon':\n\t\t\treturn Dragon.getPointsBetween(pt1, pt2, getFlatValues, {right: index % 2 === 0}, opts);\n\t\tdefault:\n\t\t\treturn Koch.getPointsBetween(pt1, pt2, getFlatValues, null, opts);\n\t}\n}\n\n\n/**\n * Return an array containing consecutive pairs of all points in the input\n * array.\n * @param arr\n * @returns {Array<any[]>}\n */\nfunction pairs (arr) {\n\treturn arr\n\t\t.map((val, i) => (i > 0 ? [arr[i - 1], arr[i]] : null))\n\t\t.slice(1);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/web-worker/worker.js"],"sourceRoot":""}